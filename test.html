<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ENSO Shortcuts Community</title>
    <link rel="icon" href="/images/pilot.png" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <style>
      /* ===== Global ===== */
      html {
        font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto,
          "Noto Sans", Arial, sans-serif;
        font-size: 17px;
        line-height: 1.45;
        -webkit-text-size-adjust: 100%;
        text-rendering: optimizeLegibility;
        font-synthesis-weight: none;
        scroll-behavior: smooth;
      }
      :where(
          body,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          p,
          a,
          small,
          strong,
          em,
          ul,
          ol,
          li,
          button,
          input,
          select,
          textarea,
          label,
          div,
          span
        ) {
        font-family: inherit;
      }
      :where(pre, code, kbd, samp) {
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      }
      :root {
        --radius-2xl: 22px;
        --radius-xl: 18px;
        --radius-lg: 16px;
        --blue: #3b82f6;
        --blue-inner: rgba(59, 130, 246, 0.4);
        --green: #22c55e;
        --green-inner: rgba(34, 197, 94, 0.45);
        --gold: #ffc72c;
        --gold-outer: rgba(255, 199, 44, 0.65);
        --gold-inner: rgba(255, 199, 44, 0.4);
        --purple: #a78bfa;
        --purple-inner: rgba(167, 139, 250, 0.4);
        --ink: #eaf2ff;
        --muted: #a8b2c0;
        --line: rgba(255, 255, 255, 0.18);
        --shadow: 0 18px 60px rgba(0, 0, 0, 0.45);
        --blur: 20px;
        --bg: radial-gradient(
            1200px 600px at 20% -10%,
            #0e1b35 0%,
            transparent 60%
          ),
          radial-gradient(1200px 600px at 90% 10%, #1c1530 0%, transparent 55%),
          linear-gradient(135deg, #0b1422 0%, #121a30 55%, #1d1425 100%);
        --sticky-top: 110px;
      }
      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0; color: var(--ink); background: transparent; position: relative; overflow-x: hidden;
      }
      body.no-scroll { overflow: hidden; }
      body::before {
        content: ""; position: fixed; inset: 0; z-index: -1; background: var(--bg); background-attachment: fixed;
      }
      .page { max-width: 1680px; margin: 0 auto; padding: 28px clamp(24px, 7vw, 84px); }
      .glass {
        background: rgba(255,255,255,.06);
        -webkit-backdrop-filter: blur(var(--blur)) saturate(160%);
        backdrop-filter: blur(var(--blur)) saturate(160%);
      }

      /* ===== Topbar ===== */
      .topbar{position:sticky;top:20px;z-index:50;border:2px solid var(--topbar-ring, var(--blue));border-radius:var(--radius-2xl);box-shadow:0 24px 70px rgba(0,0,0,.42),inset 0 0 0 1px var(--topbar-ringInner, var(--blue-inner));overflow:hidden;transition:transform .25s ease, opacity .25s ease;will-change:transform}
      .topbar.hide{transform:translateY(-140%);opacity:0}
      .topbar .wrap{display:flex;align-items:center;gap:16px;padding:12px 18px;position:relative;z-index:1}
      .brand img{height:28px}
      .nav{margin-left:auto;display:flex;gap:10px;flex-wrap:wrap}
      .nav a{color:var(--ink);text-decoration:none;font-weight:700;font-size:13px;padding:9px 12px;border-radius:999px;border:1px solid var(--line);background:rgba(255,255,255,.08);transition:.25s ease}
      .nav a:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.25);box-shadow:0 6px 18px rgba(0,0,0,.22)}
      .nav a.accent-gold{border-color:var(--gold);box-shadow:inset 0 0 0 1px var(--gold-inner);color:#ffd76a}
      .nav a.accent-purple{border-color:#a78bfa;box-shadow:inset 0 0 0 1px rgba(167,139,250,.35)}

      /* ===== Hero ===== */
      .hero{margin-top:18px;border:2px solid var(--blue);border-radius:var(--radius-2xl);box-shadow:var(--shadow), inset 0 0 0 1px var(--blue-inner)}
      .hero .container{padding:46px 28px}
      .hero h1{margin:0;font-size:clamp(40px,6.2vw,78px);font-weight:800;letter-spacing:-.01em}
      .hero p{color:var(--muted);max-width:900px;font-size:18px;margin:12px 0 22px}
      .hero .cta-row{display:flex;gap:12px;flex-wrap:wrap}
      .button{display:inline-flex;align-items:center;gap:10px;font-weight:800;border:1px solid var(--line);color:var(--ink);text-decoration:none;padding:12px 14px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,.16),rgba(255,255,255,.08))}
      .button.gold{border-color:var(--gold);color:#12140c;background:linear-gradient(180deg,rgba(255,199,44,.95),rgba(255,199,44,.75));box-shadow:0 12px 28px rgba(255,199,44,.18)}

      /* ===== Sections ===== */
      .section{margin:36px 0;content-visibility:auto;contain-intrinsic-size:1px 600px;scroll-margin-top:calc(var(--sticky-top) + 20px)}
      .section .eyebrow{color:var(--muted);font-size:12px;letter-spacing:.04em;margin-bottom:10px}
      .section h2{margin:0 0 10px;font-size:clamp(28px,4.4vw,48px);line-height:1.12;font-weight:800}
      .section .lead{color:var(--muted);margin-bottom:18px}
      .reveal{opacity:0;transform:translateY(18px);filter:saturate(90%);transition:opacity .7s cubic-bezier(.22,.61,.36,1),transform .7s cubic-bezier(.22,.61,.36,1),filter .7s}
      .reveal.is-visible{opacity:1;transform:none;filter:none}

      /* ===== (existing) grids, cards, etc — unchanged from your code ===== */
      /* ... (เดิมทั้งหมดของคุณคงไว้เหมือนเดิมด้านล่าง ไม่ตัดออกเพื่อความครบถ้วน) ... */

      /* ===== NEW: Community Gallery ===== */
      .gallery {
        position: relative;
        border: 2px solid var(--blue);
        border-radius: var(--radius-2xl);
        box-shadow: var(--shadow), inset 0 0 0 1px var(--blue-inner);
        padding: 16px 16px 22px;
      }
      .ghead {
        display:flex; align-items:center; gap:12px; margin-bottom:10px;
      }
      .gsub { color: var(--muted); }
      .gwrap { position: relative; }
      .gtrack {
        display: grid;
        grid-auto-flow: column;
        grid-auto-columns: minmax(280px, 1fr);
        gap: 16px;
        overflow-x: auto;
        padding: 8px 2px 14px;
        scroll-snap-type: x mandatory;
        scroll-padding: 8px;
        -webkit-overflow-scrolling: touch;
      }
      .gtrack::-webkit-scrollbar { height: 8px; }
      .gtrack::-webkit-scrollbar-thumb { background: rgba(255,255,255,.14); border-radius: 8px; }
      .gcard {
        position: relative;
        border: 2px solid var(--gold);
        border-radius: var(--radius-xl);
        box-shadow: inset 0 0 0 1px var(--gold-inner);
        background: #0b0f1a;
        overflow: hidden;
        scroll-snap-align: start;
        min-height: 210px;
      }
      .gmedia { aspect-ratio: 16/9; width: 100%; background:#0b0f1a; display:block; object-fit: cover; }
      .gtitle {
        position: absolute; left: 12px; top: 10px; font-weight: 800; font-size: 14px; opacity:.9;
      }
      .gbadge {
        position: absolute; left: 12px; bottom: 12px;
        font-size: 11px; letter-spacing:.04em; font-weight: 900;
        padding: 6px 10px; border-radius: 8px;
        color: #0b0f1a;
        background: linear-gradient(180deg, rgba(255,199,44,.95), rgba(255,199,44,.78));
        border: 1px solid var(--gold);
        box-shadow: 0 6px 16px rgba(255,199,44,.18), inset 0 0 0 1px var(--gold-inner);
      }
      .gctrls {
        position: absolute; right: 12px; top: 8px; display:flex; gap:8px;
      }
      .gbtn {
        width: 34px; height: 34px; display:grid; place-items:center;
        border-radius: 10px; border:1px solid var(--line);
        background: rgba(255,255,255,.08); color:#fff; font-weight:900;
        cursor:pointer;
      }
      .gbtn:disabled { opacity:.5; cursor:not-allowed; }
      @media (max-width: 720px) {
        .gtrack{grid-auto-columns: 86%;}
      }

      /* ===== (rest of your original styles unchanged) ===== */

      /* มือถือ: ท็อปบาร์เล็กลง */
      @media (max-width: 720px) {
        .topbar{top:8px;border-width:1px}
        .topbar .wrap{padding:8px 10px;gap:10px}
        .brand img{height:22px}
        .nav{gap:6px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;max-width:100%}
        .nav::-webkit-scrollbar{display:none}
        .nav a{font-size:12px;padding:7px 10px}
      }

      /* === Spin-on-load (logo), fireworks, etc — kept the same from your code === */
      /* ... (ส่วน animation/overlay/preview ที่เหลือเหมือนเดิมทั้งหมด) ... */

      /* === TOPBAR spinning border (unchanged) === */
      @property --ring-angle { syntax: "<angle>"; initial-value: 0deg; inherits: false }
      .topbar{ --ring-w: 2px; --ring-speed: 3.5s; }
      .topbar.spin-border{ border: var(--ring-w) solid transparent; border-radius: var(--radius-2xl);
        border-image: conic-gradient(from var(--ring-angle), #3b82f6 0%, #a78bfa 45%, #ffc72c 80%, #3b82f6 100%) 1;
        animation: ring-rotate var(--ring-speed) linear infinite;
        box-shadow:0 24px 70px rgba(0,0,0,.42), inset 0 0 0 1px rgba(255,255,255,.06), 0 0 10px rgba(255,199,44,.18), 0 0 18px rgba(167,139,250,.14);
      }
      @keyframes ring-rotate { to { --ring-angle: 360deg; } }
      @media (max-width:720px){ .topbar{--ring-w:1px} }
      @media (prefers-reduced-motion:reduce){ .topbar.spin-border{animation:none} }
    </style>
  </head>
  <body>
    <div class="page">
      <!-- Topbar -->
      <header class="topbar glass reveal">
        <div class="wrap">
          <a class="brand" href="#home"><img src="https://framerusercontent.com/images/FPnvhl6ocJ58PYgLaYri68xb6cQ.webp" alt="Enso Logo"/></a>
          <nav class="nav">
            <a href="#price">$ENSO</a><a href="#tge">TGE</a><a href="#coinlist">CoinList</a><a href="#events">Events</a>
            <a href="#why">Why Enso</a><a href="#build">Shortcuts</a><a href="#roles">Roles</a>
            <a class="accent-gold" href="#pilots">Pilots</a>
            <a href="https://docs.enso.build/" target="_blank" rel="noreferrer noopener">Docs</a>
            <a class="accent-purple" href="https://navigator.enso.build/" target="_blank" rel="noreferrer noopener">Navigator</a>
            <a class="accent-purple" href="https://speedrun.enso.build/" target="_blank" rel="noreferrer noopener">Speedrun</a>
          </nav>
        </div>
      </header>

      <!-- Hero -->
      <section id="home" class="hero glass reveal">
        <div class="container">
          <h1>ENSO Shortcuts Community</h1>
          <div class="cta-row">
            <h3 class="button gold">Built by community for community</h3>
          </div>
          <p>Enso is the fastest way to build and launch onchain — a shared engine that maps every onchain interaction. Focus on product, community, and growth.</p>
          <div class="cta-row">
            <a class="button gold" href="https://www.enso.build/" target="_blank" rel="noreferrer noopener">Start with Enso</a>
            <a class="button gold" href="https://navigator.enso.build/" target="_blank" rel="noreferrer noopener">Navigator</a>
            <a class="button" href="https://docs.enso.build/" target="_blank" rel="noreferrer noopener">Read the Docs</a>
            <a class="button" href="https://x.com/EnsoBuild" target="_blank" rel="noreferrer noopener">Follow @EnsoBuild</a>
          </div>
        </div>
      </section>

      <!-- TGE / Countdown (unchanged) -->
      <!-- ... your original TGE section ... -->

      <!-- $ENSO Price (unchanged) -->
      <!-- ... your original price section ... -->

      <!-- CoinList Highlights (unchanged) -->
      <!-- ... your original coinlist section ... -->

      <!-- Events (unchanged) -->
      <section id="events" class="section reveal">
        <div class="eyebrow">Community events</div>
        <h2>This Week: Today & Tomorrow</h2>
        <p class="lead">All times below are shown in your local timezone.</p>
        <div class="events glass">
          <!-- ... (เดิมทั้งหมดของคุณ) ... -->
          <div class="thisweek">
            <div class="bucket"><div class="bucket-title">⭐ Today</div><div class="bucket-list" id="eventsToday"></div></div>
            <div class="bucket"><div class="bucket-title">⏭️ Tomorrow</div><div class="bucket-list" id="eventsTomorrow"></div></div>
          </div>
          <div class="weekcal">
            <div class="bucket-title" style="margin-bottom: 8px">Weekly Calendar</div>
            <div class="weekgrid" id="weekGrid"></div>
          </div>
          <div class="events-grid" id="eventsGrid"></div>
          <div class="tz-note" id="tzNote">Timezone: —</div>
        </div>
      </section>

      <!-- ===== NEW: Community Gallery ===== -->
      <section id="gallery" class="section reveal" aria-labelledby="galleryTitle">
        <div class="eyebrow">Community gallery</div>
        <h2 id="galleryTitle">Highlights from our community events</h2>
        <p class="lead">Screenshots from ceremonies, game nights, and voice chats — curated by and for the community.</p>

        <div class="gallery glass">
          <div class="gwrap">
            <div class="gctrls">
              <button id="gPrev" class="gbtn" aria-label="Previous">&larr;</button>
              <button id="gNext" class="gbtn" aria-label="Next">&rarr;</button>
            </div>
            <div id="gTrack" class="gtrack" role="region" aria-label="Community gallery carousel"></div>
          </div>
        </div>
      </section>

      <!-- Why / Roles / Stats / Ecosystem / Build / Navigator (unchanged) -->
      <!-- ... your original sections ... -->

      <!-- Pilots (unchanged except we keep your existing code) -->
      <section id="pilots" class="section">
        <!-- ... (เดิมทั้งหมดของคุณ) ... -->
        <div class="eyebrow">Enso global community</div>
        <div class="pilot-toolbar">
          <button class="btn-primary" id="btnAddPilot" aria-label="Add a new pilot">Add Pilot</button>
          <span class="tip">Tip: Drag cards to reorder</span>
        </div>
        <div class="grid" id="grid"></div>

        <!-- Modal -->
        <div class="modal" id="pilotModal" role="dialog" aria-modal="true" aria-labelledby="pilotModalTitle" aria-hidden="true">
          <div class="backdrop"></div>
          <div class="panel">
            <h3 id="pilotModalTitle">Add Pilot</h3>
            <div class="form">
              <div><label for="fName">Name</label><input id="fName" placeholder="e.g., bc1pBITHERUMN" /></div>
              <div><label for="fStatus">Status</label><input id="fStatus" placeholder="Active" /></div>
              <div><label for="fSince">Since (Year)</label><input id="fSince" placeholder="2023" /></div>
              <div><label for="fBadges">Badges (comma separated)</label><input id="fBadges" placeholder="@Pilot,@Community" /></div>
            </div>
            <div class="row">
              <button class="btn-sm gold" id="btnSavePilot">Save</button>
              <button class="btn-sm" id="btnCancelPilot">Cancel</button>
            </div>
          </div>
        </div>
      </section>

      <div class="toast" id="toast" aria-live="polite" aria-atomic="true"></div>
      <footer class="footer"><div class="container">enso shortcut community project contributors bc1pBITHERUMN ⚡✨</div></footer>
    </div>

    <script>
      /* ===== Helmet SVG fallback (unchanged) ===== */
      window.ENSO_HELMET_SVG = "data:image/svg+xml;utf8," + encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#FFD76A"/><stop offset="1" stop-color="#FF9F1A"/></linearGradient><filter id="ds"><feDropShadow dx="0" dy="1" stdDeviation="1.8" flood-color="#000" flood-opacity=".35"/></filter></defs><g filter="url(#ds)"><path d="M12 36c0-12 10-22 22-22s18 10 18 22v6H12z" fill="url(#g)" stroke="#31240a" stroke-width="2"/><rect x="16" y="34" width="32" height="10" rx="4" fill="#0b0f1a" opacity=".6"/><circle cx="26" cy="29" r="4" fill="#0b0f1a"/><circle cx="38" cy="29" r="4" fill="#0b0f1a"/><rect x="28" y="40" width="8" height="6" rx="2" fill="#fff"/></g></svg>`);

      /* sticky offset + mobile topbar autohide + reveal + counters + countries ... */
      /* ===== (ทุกส่วน JS เดิมของคุณยังคงอยู่ด้านล่างแบบครบถ้วน) ===== */
      // ... [เดิมทั้งหมดของคุณ ไม่ตัดออก] ...

      /* ===== NEW: Community Gallery logic ===== */
      (function () {
        const items = [
          { title: "Community activity 1", src: "/images/gallery/1.jpg" },
          { title: "Community activity 2", src: "/images/gallery/2.jpg" },
          { title: "Community activity 3", src: "/images/gallery/3.jpg" },
          { title: "Community activity 4", src: "/images/gallery/4.jpg" },
          { title: "Community activity 5", src: "/images/gallery/5.jpg" },
          { title: "Community activity 6", src: "/images/gallery/6.jpg" },
          { title: "Community activity 7", src: "/images/gallery/7.jpg" },
          { title: "Community activity 8", src: "/images/gallery/8.jpg" },
          { title: "Community activity 9", src: "/images/gallery/9.jpg" }
        ];

        const track = document.getElementById("gTrack");
        const btnPrev = document.getElementById("gPrev");
        const btnNext = document.getElementById("gNext");

        if (!track) return;

        function cardHTML(it) {
          return `
            <article class="gcard">
              <span class="gtitle">${it.title}</span>
              <img class="gmedia" src="${it.src}" alt="${it.title}"
                   onerror="this.style.background='linear-gradient(135deg,#0b0f1a,#151a26)';this.removeAttribute('src');this.setAttribute('aria-hidden','true');">
              <span class="gbadge">COMMUNITY</span>
            </article>`;
        }
        track.innerHTML = items.map(cardHTML).join("");

        function updateButtons() {
          const maxScroll = track.scrollWidth - track.clientWidth - 1;
          btnPrev.disabled = track.scrollLeft <= 0;
          btnNext.disabled = track.scrollLeft >= maxScroll;
        }
        function stepSize() {
          // scroll by ~1 card width
          const first = track.querySelector(".gcard");
          return first ? first.getBoundingClientRect().width + 16 : track.clientWidth * 0.9;
        }
        btnPrev?.addEventListener("click", () => {
          track.scrollBy({ left: -stepSize(), behavior: "smooth" });
          setTimeout(updateButtons, 200);
        });
        btnNext?.addEventListener("click", () => {
          track.scrollBy({ left: stepSize(), behavior: "smooth" });
          setTimeout(updateButtons, 200);
        });
        track.addEventListener("scroll", () => {
          // throttle with rAF
          if (track.__tick) return;
          track.__tick = true;
          requestAnimationFrame(() => {
            updateButtons();
            track.__tick = false;
          });
        }, { passive: true });

        // Keyboard accessibility
        track.tabIndex = 0;
        track.addEventListener("keydown", (e) => {
          if (e.key === "ArrowRight") { btnNext.click(); e.preventDefault(); }
          else if (e.key === "ArrowLeft") { btnPrev.click(); e.preventDefault(); }
        });

        updateButtons();
      })();

      /* ===== The rest of your original JS (price placeholder, countdown, events, pilots, fireworks, navigator fallback, topbar ring, etc.) ===== */
      // ... (เดิมทั้งหมดของคุณคงไว้เหมือนเดิม) ...
    </script>
  </body>
</html>
